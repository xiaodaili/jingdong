"use strict";$(function(){var s=localStorage.getItem("username");if(s){var n=JSON.parse(s).find(function(s){return s.username});$(".log-in").text("欢迎"+n.username+"登录"),$(".sign-up").text("退出登录"),$(".sign-up").attr("href","javascript:;")}else $(".log-in").text("你好，请登录"),$(".sign-up").text("免费注册");$(".sign-up").on("click",function(){$(".log-in").text("你好，请登录"),$(".sign-up").text("免费注册")});var e=+new Date;$.ajax({url:"http://localhost:8000/banner",type:"get",data:"source=pc_seckill&pin=jd_756d3cc64ebb0&uuid=1630062110939678747297&isAdvance=0&callback=jsonpSeckill&_="+e,dataType:"jsonp",async:!1,success:function(s){for(var n="",e=0;e<s.data.length;e++){n+='\n                <li class="banner-img-li">\n                     <a href="" class="banner-core">\n                        <img src="'+s.data[e][0].src+'" alt=""class="banner-core-img">\n                    </a>\n                </li>\n                '}$(".banner-img").append(n)},error:function(s){console.log(s)}}),$(".banner-img li").each(function(s,n){$(".slipper-poit-list").append($("<li></li>"))});var a=0,i=!0;$(".slipper-poit-list").children().eq(a).addClass("slipper-poit-li"),$(".btn-slipper-right").click(function(){if(!i)return!1;i=!1,c()}),$(".btn-slipper-left").click(function(){if(!i)return!1;c(i=!1)});var t=setInterval(function(){$(".btn-slipper-right").trigger("click")},3e3);function c(){var s=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];$(".slipper-poit-list").children().eq(a).removeClass("slipper-poit-li"),$(".banner-img").children().eq(a).css("opacity",0),s?a++:a--,a>=$(".banner-img").children().length&&(a=0),a<0&&(a=$(".banner-img").children().length-1),$(".banner-img").children().eq(a).css("opacity",1),$(".slipper-poit-list").children().eq(a).addClass("slipper-poit-li"),i=!0}$(".slipperbanner").hover(function(){clearInterval(t)},function(){t=setInterval(function(){$(".btn-slipper-right").trigger("click")},3e3)}),$(".slipper-poit-list li").mouseover(function(){clearInterval(t);var s=$(".slipper-poit-list li").length;i=!0,a=$(this).index();for(var n=0;n<s;n++)$(".banner-img").children().eq(n).css("opacity",0),$(".slipper-poit-list").children().eq(n).removeClass("slipper-poit-li");$(".banner-img").children().eq(a).css("opacity",1),$(".slipper-poit-list").children().eq(a).addClass("slipper-poit-li")}),$.ajax({url:"http://localhost:8000/rightbanner",type:"get",data:"source=pc_seckill&pin=jd_756d3cc64ebb0&uuid=1630062110939678747297&isAdvance=0&callback=jsonpSeckill&_="+e,async:!1,dataType:"jsonp",success:function(s){for(var n="",e="",a="",i=0;i<s.data.length;i++){var t=s.data[i].src;i<3?n+='\n                    <div class="rights-item">\n                       <img src="'+t+'" width=100%>\n                    </div>\n                    ':i<6?e+='\n                    <div class="rights-item">\n                       <img src="'+t+'" width=100%>\n                    </div>\n                    ':a+='\n                    <div class="rights-item">\n                       <img src="'+t+'" width=100%>\n                    </div>\n                    '}$(".slipper-right-item-li1").append(n),$(".slipper-right-item-li2").append(e),$(".slipper-right-item-li3").append(a)},error:function(s){console.log(s)}});var l=0,r=!0;$(".btn-center-right").click(function(){if(!r)return!1;r=!1,o()}),$(".btn-center-left").click(function(){if(!r)return!1;o(r=!1)});var p=setInterval(function(){$(".btn-center-right").trigger("click")},7e3);function o(){var s=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];$(".slipper-right-item").children().eq(l).css("opacity",0),s?l++:l--,l>=$(".slipper-right-item").children().length&&(l=0),l<0&&(l=$(".slipper-right-item").children().length-1),$(".slipper-right-item").children().eq(l).css("opacity",1),r=!0}function d(d,s){$.ajax({url:"http://localhost:8000/dailyinfo",type:"get",data:"source=pc-home&id="+s+"&callback=jsonpSpecialOfferContent1&_="+e,async:!1,dataType:"jsonp",success:function(p){for(var o="",s=function(s){var n=p.data[s],e=n.imageurl,a=n.miaoShaPrice,i=n.wname,t=n.lowestPriceDaysInfo,c=n.alreadySoldInfoPcNum,l=new RegExp("历史");function r(){return'\n                            <a href="JavaScript:;" class="spec-item-lk">\n                                 <div class="spec-item-img item-float">\n                                     <img src="'+e+'" class="item-imgs">\n                                 </div>\n                                 <div class="spec-info low-float">'+t+'</div>\n                                 <div class="item-message mess-float">\n                                     <span class="item-describe des-float">'+i+'</span>\n                                     <div class="item-price item-price-float">\n                                         <span class="price-miaosha price-float">\n                                             <span class="symbl-price">￥</span>'+a+'\n                                         </span>\n                                     </div>\n                                     <span class="sale-message">\n                                         已抢<span class="sale-num">'+c+"</span>件\n                                     </span>\n                                 </div>\n                             </a>  "}switch(t=t?t.replace(l,""):"",c||(c=""),0===s&&(o='\n                <a href="JavaScript:;" class="spec-item-lk">\n                    <div class="spec-item-img">\n                        <img src="'+e+'" class="item-imgs">\n                    </div>\n                    <div class="spec-info">'+t+'</div>\n                    <div class="item-message message-center">\n                        <span class="item-describe">'+i+'</span>\n                        <div class="item-price">\n                            <span class="price-miaosha">\n                                <span class="symbl-price">￥</span>'+a+"\n                            </span>\n                        </div>\n                    </div>\n                </a>\n                ",$("."+d+" .special-list  .item-0").append(o)),s){case 1:$("."+d+" .special-list  .item-1").append(r());break;case 2:$("."+d+" .special-list  .item-2").append(r());break;case 3:$("."+d+" .special-list  .item-3").append(r());break;case 4:$("."+d+" .special-list  .item-4").append(r())}},n=0;n<p.data.length;n++)s(n);for(var e=$(".sale-message"),a=0;a<e.length;a++){"undefined"==$(".sale-num").text()&&console.log($(".sale-num").index())}},error:function(s){console.log(s)}})}$(".center-right").hover(function(){clearInterval(p)},function(){p=setInterval(function(){$(".btn-center-right").trigger("click")},7e3)}),$.ajax({url:"http://localhost:8000/dailyinfo",type:"get",data:"source=pc_seckill&pin=jd_756d3cc64ebb0&uuid=1630062110939678747297&isAdvance=0&callback=jsonpSeckill&_="+e,async:!1,dataType:"jsonp",success:function(p){for(var o="",s=function(s){var n=p.data[s],e=n.imageurl,a=n.miaoShaPrice,i=n.wname,t=n.lowestPriceDaysInfo,c=n.alreadySoldInfoPcNum,l=new RegExp("历史");function r(){return'\n                            <a href="JavaScript:;" class="spec-item-lk">\n                                 <div class="spec-item-img item-float">\n                                     <img src="'+e+'" class="item-imgs">\n                                 </div>\n                                 <div class="spec-info low-float">'+t+'</div>\n                                 <div class="item-message mess-float">\n                                     <span class="item-describe des-float">'+i+'</span>\n                                     <div class="item-price item-price-float">\n                                         <span class="price-miaosha price-float">\n                                             <span class="symbl-price">￥</span>'+a+'\n                                         </span>\n                                     </div>\n                                     <span class="sale-message">\n                                         已抢<span class="sale-num">'+c+"</span>件\n                                     </span>\n                                 </div>\n                             </a>  "}switch(t=t.replace(l,""),c||(c=""),0===s&&(o='\n                <a href="JavaScript:;" class="spec-item-lk">\n                    <div class="spec-item-img">\n                        <img src="'+e+'" class="item-imgs">\n                    </div>\n                    <div class="spec-info">'+t+'</div>\n                    <div class="item-message message-center">\n                        <span class="item-describe">'+i+'</span>\n                        <div class="item-price">\n                            <span class="price-miaosha">\n                                <span class="symbl-price">￥</span>'+a+"\n                            </span>\n                        </div>\n                    </div>\n                </a>\n                ",$(".tab-item1 .special-list  .item-0").append(o)),s){case 1:$(".tab-item1 .special-list  .item-1").append(r());break;case 2:$(".tab-item1 .special-list  .item-2").append(r());break;case 3:$(".tab-item1 .special-list  .item-3").append(r());break;case 4:$(".tab-item1 .special-list  .item-4").append(r())}},n=0;n<p.data.length;n++)s(n)},error:function(s){console.log(s)}}),$(".tab-head div").mouseover(function(){for(var s=$(this).parent().children(),n=0;n<s.length;n++)s.removeClass("tab-head-item"),$(".tab-body>div").removeClass("tab-item-active");$(this).addClass("tab-head-item");var e=$(this).index();$(".tab-body>div").eq(e).addClass("tab-item-active")}),d("tab-item2",32),d("tab-item3",35),d("tab-item4",34),d("tab-item5",6),$.ajax({url:"http://localhost:8000/linghtsale",type:"get",data:"source=pc-home&pin=jd_756d3cc64ebb0&callback=jsonpLightningBuy&_="+e,async:!1,dataType:"jsonp",success:function(s){var n,e=s.data,a=e.bigBrandView,i=e.brandList,t=a[0],c=t.title,l=t.promotionInfo,r=t.imgUrl,p=t.logoImg,o=t.endTime,d=(o-+new Date)/1e3,m=Math.floor(d/3600/24),g=parseInt(d/3600%24),v=parseInt(d/60%60),h=parseInt(d%60),f="";n='\n            <a href="" class="goods-core">\n                <img src="'+p+'" class="core-logo">\n                <h3 class="core-title">'+c+'</h3>\n                <div class="core-describe">\n                    <span class="core-desc-message">'+l+'</span>\n                    <span class="core-desc-only">\n                        <span class="core-text">仅剩</span>\n                        <span class="core-timer"></span>\n                    </span>\n                </div>\n                <img src="'+r+'" class="core-main-img">\n            </a>\n            ',$(".lighting-container").prepend(n),m<1?($(".core-timer").append("\n                        <span>"+g+"</span>\n                        <span>:</span>\n                        <span>"+v+"</span>\n                        <span>分</span>\n                        <span>"+h+"</span>\n                    "),setInterval(function(){var s=(o-+new Date)/1e3,n=parseInt(s/3600%24),e=parseInt(s/60%60),a=parseInt(s%60);n=n<10?"0"+n:n,e=e<10?"0"+e:e,a=a<10?"0"+a:a,$(".core-timer").empty().append("\n                    <span>"+n+"</span>\n                    <span>:</span>\n                    <span>"+e+"</span>\n                    <span>:</span>\n                    <span>"+a+"</span>\n                ")},1e3)):$(".core-timer").append(m+"天");for(var u=0;u<i.length;u++){var b=i[u],y=b.title;f+='\n                <a href="javascript:;" class="goods-info">\n                    <div class="goods-others-logo">\n                        <img src="'+b.logoImg+'" class="goods-logo">\n                    </div>\n                    <h5 class="logo-desc">'+y+"</h5>\n                </a>\n                "}$(".goods-others").append(f)},error:function(s){console.log(s)}}),$.ajax({url:"http://localhost:8000/nicegood",type:"get",data:"source=pc-home&pin=jd_756d3cc64ebb0&callback=jsonpNiceGoods&_="+e,async:!1,dataType:"jsonp",success:function(s){for(var n=0;n<s.data.length;n++){var e="",a="",i=s.data[n],t=i.goodsPic,c=i.recommendTheme;n%2==0?(e='\n                    <a href="">\n                        <div class="goods-name1">'+c+'</div>\n                        <div class="goods-list-img">\n                            <div class="lazyimg">\n                                <img src="'+t+'" alt="">\n                            </div>\n                        </div>\n                    </a>\n                    ',$(".goods-slipper-list .goods-list").append(e)):(a='\n                    <a href="">\n                        <div class="goods-list-img">\n                            <div class="lazyimg">\n                                <img src="'+t+'" alt="">\n                            </div>\n                        </div>\n                        <div class="goods-name2">'+c+"</div>\n                    </a>\n                    ",$(".goods-slipper-list .goods-list").append(a))}},error:function(s){console.log(s)}}),$(".goods-list a:lt(5)").clone().appendTo(".goods-list");var m=0;setInterval(function(){2045===(m+=1)&&(m=0,$(".goods-list").css({transform:"translate(-"+m+"px, 0px)"})),$(".goods-list").css({transform:"translate(-"+m+"px, 0px)"})},30),$.ajax({url:"/brandsqure",type:"get",data:"source=pc_seckill&pin=jd_756d3cc64ebb0&uuid=1630062110939678747297&isAdvance=1&callback=jsonpSeckillPreload&_="+e,async:!1,dataType:"jsonp",success:function(s){for(var n="",e="",a=0;a<s.data.length;a++)if(a<2){n='\n                    <div class="channel-item'+(a+1)+'">\n                        <a href="" class="channel-link">\n                            <div class="channel-big-img">\n                                <img src="'+s.data[a].bigImg+'" widath=100% height =100%>\n                            </div>\n                        </a>\n                    </div>\n                    ',$(".channel-block-wrapper").append(n)}else{var i=s.data[a],t=i.desc,c=i.name,l=i.item;e='\n                    <div class="channel-item channel-item'+(a+1)+'">\n                        <a href="" class="channel-tiltl">\n                            <span class="channel-title-main">'+c+'</span>\n                            <span class="channel-title-aside">'+t+'</span>\n                        </a>\n                        <div class="channel-img">\n                            <a href="" class="channel-small-link">\n                                <div class="channel-small-img">\n                                    <img src="//img30.360buyimg.com/img/s100x100_'+l[0].img+'" alt="">\n                                </div>\n                            </a>\n                            <a href="" class="channel-small-link">\n                                <div class="channel-small-img">\n                                    <img src="//img30.360buyimg.com/img/s100x100_'+l[1].img+'" alt="">\n                                </div>\n                            </a>\n                        </div>\n                    </div>\n                    ',$(".channel-block-wrapper").append(e)}},error:function(s){console.log(s)}}),$.ajax({url:"/moregoods",type:"get",data:"source=pc_seckill&pin=jd_756d3cc64ebb0&uuid=1630062110939678747297&isAdvance=1&callback=jsonpSeckillPreload&_="+e,async:!1,dataType:"jsonp",success:function(s){for(var n="",e=0;e<s.data.length;e++){var a=s.data[e],i=a.img,t=a.t,c=a.jp,l=c.split(".")[1],r=new RegExp(l);n+='\n            <li class="moregoods-item">\n                <span class="freedo"></span>\n                <a href="" class="moregods-cont">\n                   <div class="goodslazying-img">\n                       <img src="//img14.360buyimg.com/jdcms/s150x150_'+i+'" alt="">\n                   </div> \n                   <div class="goodslazying-info">\n                       <p class="goods-name">\n                           <i class="selfsale">自营</i>\n                           '+t+'\n                       </p>\n                      <div class="more-info">\n                          <div class="mod-price">\n                              <i>￥</i>\n                              <span class="price-text">'+(c=c.replace(r,""))+'\n                                  <span class="text-descirt">'+l+'</span>\n                              </span>\n                          </div>\n                          <div class="preice-plus">\n                              <div class="discount">券</div>\n                          </div>\n                      </div> \n                   </div>\n                </a>\n\n            </li>\n            '}$(".moregoods-list").append(n)},error:function(s){console.log(s)}});$(window).scrollTop();$(window).scroll(function(){var s=$(document).scrollTop();600<=s?($(".right-nav").css({position:"fixed",top:"75px"}),$(".totop").css("top","345px"),$(".serch1").addClass("serch-top")):s<=600&&($(".right-nav").css({position:"absolute",top:"0"}),$(".totop").css("top","285px"),$(".serch1").removeClass("serch-top"))})});